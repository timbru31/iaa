<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
  "http://struts.apache.org/dtds/struts-2.5.dtd">
<struts>
  <constant name="struts.devMode" value="true" />
  <constant name="struts.action.excludePattern" value="/api/.*" />
  <package name="default" namespace="/" extends="tiles-default">
    <result-types>
      <result-type name="tiles"
        class="org.apache.struts2.views.tiles.TilesResult" />
    </result-types>

    <interceptors>
        <interceptor name="login" class="de.nordakademie.iaa_multiple_choice.web.LoginInterceptor"/>
        <interceptor-stack name="iaa-multiple-choice">
            <interceptor-ref name="login"/>
            <interceptor-ref name="defaultStack"/>
        </interceptor-stack>
    </interceptors>

    <default-interceptor-ref name="iaa-multiple-choice"/>
    <global-results>
        <result name="loginRedirect" type="tiles">login</result>
    </global-results>

    <action name="">
      <result type="tiles">welcome</result>
    </action>
    <action name="welcome">
      <result type="tiles">welcome</result>
    </action>

    <action name="lecturer">
      <result type="tiles">lecturer</result>
    </action>
    
    <action name="create">
      <result type="tiles">exam/create</result>
    </action>
    
    <action name="show">
      <result type="tiles">exam/show</result>
    </action>
    
    <action name="mapping">
      <result type="tiles">lecturer/mapping</result>
    </action>

    <action name="registration">
      <result type="tiles">registration</result>
    </action>

    <action name="registerLecturer"
      class="de.nordakademie.iaa_multiple_choice.web.RegisterAction"
      method="registerLecturer">
      <result name="success" type="tiles">welcome</result>
      <result name="input" type="tiles">registration</result>
    </action>
    
    <action name="registerStudent"
      class="de.nordakademie.iaa_multiple_choice.web.RegisterAction"
      method="registerStudent">
      <result name="success" type="tiles">welcome</result>
      <result name="input" type="tiles">registration</result>
    </action>

    <action name="login">
      <result type="tiles">login</result>
    </action>

    <action name="loginUser"
      class="de.nordakademie.iaa_multiple_choice.web.LoginAction"
      method="login">
      <result name="success" type="tiles">welcome</result>
      <result name="input" type="tiles">login</result>
    </action>

    <action name="locale"
      class="de.nordakademie.iaa_multiple_choice.web.ChangeLanguageAction"
      method="changeLanguage">
      <result name="success" type="tiles">welcome</result>
    </action>
  </package>
</struts>
